"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[9727],{29727:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var a=r(97458),n=r(8429),s=r(78659),i=r(27618),l=r(24973),c=r(52983);function o(e,t,r){return e[t]?e[t][0]?e[t][0][r]:e[t][r]:"contentBoxSize"===t?e.contentRect["inlineSize"===r?"width":"height"]:void 0}var u=r(10091),d=r(27071),m=r(89663),f=r(58905),h=r(51308);const x=()=>{const{useTicker:e,useCurrentProduct:t}=(0,c.useContext)(d.Z),{pair:r}=t(),a=r.replace("MAD",""),{update:n,tickProps:{bigThan:s,lastPrice:i,tk:l,diffPercent:o,diff:u,diffPrice:f}}=e(a),h=(0,m.uf)(i,l),x=0===n?u:[f>0?"+":"",(o?100*o:0).toFixed(2)].join("");return c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},a),c.createElement("div",{className:(s?"text-t-buy":"text-t-sell")+" whitespace-nowrap"},h,c.createElement("span",{className:(s?"text-t-buy":"text-t-sell")+" ml-1"},x,"%")))},p=(0,c.memo)((()=>{const{getI18n:e,useTickerHandle:t,useCurrentProduct:r,minLeverage:a,maxLeverage:i,predictionPairs:l,useGetPredictionMarket:o}=(0,c.useContext)(d.Z),{shortOI:u,longOI:p,getFundingFeeColor:b,fundingFeeLong:g,fundingFeeShort:v}=t(),{symbolType:k,quoteAsset:w,degenPairBase:C,degenPairSymbol:E,symbol:N}=r(),{isMadContract:y}=(0,n.L)(k),M=!!C&&!!E,{isDegenMode:P,isClassicMode:I,isDumbMode:S}=(0,s.C)(),T=(0,c.useMemo)((()=>l?.find((e=>e.name.replace("/","")===N))),[l,N]),{currentPredictionPeriod:F}=(0,h.W)(),L=(0,c.useMemo)((()=>T?.predictionPeriods.find((e=>e.period===F))),[F,T?.predictionPeriods]),W=(0,c.useMemo)((()=>T?.predictionPeriods.map((e=>e.period))),[T?.predictionPeriods]),R=(0,c.useMemo)((()=>L&&W?W.indexOf(L.period):0),[W,L]),{data:j}=o({pairBase:T?.base,periods:W}),V=j?.[R??0];return c.createElement("div",{className:"flex flex-col gap-4 pt-4 pb-6 w-full"},P||I?c.createElement(c.Fragment,null,c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-funding-long-indicator",{defaultValue:"1h Funding (Long)"})),c.createElement("div",{className:`${b(g)}`},g)),c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-funding-short-indicator",{defaultValue:"1h Funding (Short)"})),c.createElement("div",{className:`${b(v)}`},v))):null,P||I?c.createElement(c.Fragment,null,c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-long-oi-asset",{defaultValue:"Long OI ({{asset}})",asset:w})),c.createElement("div",{className:"text-t-primary whitespace-nowrap"},p)),c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-short-oi-asset",{defaultValue:"Short OI ({{asset}})",asset:w})),c.createElement("div",{className:"text-t-primary whitespace-nowrap"},u))):null,S?c.createElement(c.Fragment,null,c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-long-oi-asset",{defaultValue:"Long OI ({{asset}})",asset:w})),c.createElement("div",{className:"text-t-primary whitespace-nowrap"},V?.upUsd?(0,m.XR)(parseFloat((0,f.d)(V?.upUsd)),1):"-"," ","/"," ",L?.maxUpUsd?(0,m.XR)(parseFloat((0,f.d)(L.maxUpUsd)),1):"-")),c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-short-oi-asset",{defaultValue:"Short OI ({{asset}})",asset:w})),c.createElement("div",{className:"text-t-primary whitespace-nowrap"},V?.downUsd?(0,m.XR)(parseFloat((0,f.d)(V?.downUsd)),1):"-"," ","/"," ",L?.maxDownUsd?(0,m.XR)(parseFloat((0,f.d)(L.maxDownUsd)),1):"-"))):null,P||I?c.createElement("div",{className:"flex flex-row items-center justify-between text-caption1"},c.createElement("div",{className:"text-t-third whitespace-nowrap"},e("ticker-leverage",{defaultValue:"Leverage"})),c.createElement("div",{className:"text-t-primary whitespace-nowrap"},a&&i?`${a}X-${M?"1001":i}X`:"-")):null,y?c.createElement(x,null):null)})),b=(0,c.memo)((()=>{const{getI18n:e,useTickerHandle:t,useCoachmark:r=(()=>({})),guideNoticeKey:a,showGuideNotice:n}=(0,c.useContext)(d.Z),{currentPrice:i,difference:l,bigThan:o}=t(),u=(0,c.useRef)(null),{putCoachMarkStep:m,showCoachMark:f}=r(),{isClassicMode:h,isDegenMode:x}=(0,s.C)();return(0,c.useEffect)((()=>{m?.(a,0,{title:e("v2-sdk-guide-notice-step1-title","V2 Features: Classic Futures Trading"),content:e("v2-sdk-guide-notice-step1-content","Classic mode offers futures trading supporting market and limit orders with lower leverage and more symbols."),target:u,position:"bottom-start",hasCloseIcon:!0}),n&&(h||x)&&f?.(a,0)}),[]),c.createElement("div",{className:"flex items-center"},c.createElement("div",{className:"text-subtitle2 "+(o?"text-t-buy":"text-t-sell"),ref:u},i),c.createElement("div",{className:"text-caption ml-1 "+(o?"text-t-buy":"text-t-sell")},l,"%"))})),g=b;var v=r(33740),k=r(98129);const w=()=>{const{ee:e,useCurrentProduct:t,useSymbolLogo:r,useTrackWebClickWithWalletAddress:a,getI18n:n}=(0,c.useContext)(d.Z),s=t(),{symbol:i,symbolName:o}=s,{trackWebClickWithWalletAddress:u}=a(),m=r(i),[f,h]=(0,c.useState)(!1),x=d.Z,{useFuturesMarket:p}=(0,c.useContext)(x),{validTickers:b,loading:g}=p(),w=(0,c.useCallback)((()=>{u({pageName:"onChainPerp",$element_id:"switchTradePair"})}),[u]);(0,c.useEffect)((()=>e.on("SHOW_MARKET_DRAWER",(()=>{h(!0)}))),[]);const C=(0,c.useCallback)((e=>{h(e)}),[]),E=(0,c.useCallback)((()=>{h(!1)}),[]);return c.createElement("div",{className:"flex flex-col justify-center"},c.createElement(v.yo,{open:f,onOpenChange:C},c.createElement(v.aM,{asChild:!0},c.createElement("button",{type:"button",onClick:w},c.createElement("div",{className:"flex items-center w-max text-t-primary"},c.createElement("img",{src:m,className:"min-w-5 w-5 h-5 rounded-full mr-2",width:"20px",height:"20px"}),c.createElement("div",{className:"flex flex-col text-subtitle2 mr-0.5"},o||i),c.createElement(l.v,{className:"w-4 h-4 leading-none"})))),c.createElement(v.ue,{side:"bottom",className:"w-full border-none p-4 rounded-t bg-interactive-interactiveBg shadow-elevation3",onPointerDownOutside:E},c.createElement("div",{className:"flex flex-col"},c.createElement("div",{className:"relative mb-4"},c.createElement("h2",{className:"flex flex-1 text-t-primary justify-center text-headline3"},n("ticker-market-header-title",{defaultValue:"Symbol"})),c.createElement(v.sw,{className:"right-0 absolute top-0 bottom-0 my-auto"})),c.createElement(k.Z,{context:x,closeDrawer:E,validTickers:b,isLoading:g})))))},C={Chart:"Chart",Info:"Info"},E=248;function N({locale:e,useTickerHandle:t,getI18n:r,siteHost:a,ee:m,useTrackPopupViewWithWalletAddress:f,useTrackWebClickWithWalletAddress:h,isLight:x,useIsMarketClose:b,filterTabInfo:v,filterTabItems:k=u.n,useSymbolConfigInfo:N,useSymbolLogo:y,useChangeSymbol:M,useChartsVisible:P,useCurrentProduct:I,useFuturesMarketSort:S,useFuturesMarket:T,useGetMarketClosePairs:F,useTicker:L,Link:W,predictionPairs:R,useGetPredictionMarket:j,useCoachmark:V,showGuideNotice:_,guideNoticeKey:A,minLeverage:G,maxLeverage:D,ChartElement:H}){const O=b(),[U,z]=(0,c.useState)(""),{ref:Z,height:B}=function(e){void 0===e&&(e={});var t=e.onResize,r=(0,c.useRef)(void 0);r.current=t;var a=e.round||Math.round,n=(0,c.useRef)(),s=(0,c.useState)({width:void 0,height:void 0}),i=s[0],l=s[1],u=(0,c.useRef)(!1);(0,c.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var d=(0,c.useRef)({width:void 0,height:void 0}),m=function(e,t){var r=(0,c.useRef)(null),a=(0,c.useRef)(null);a.current=t;var n=(0,c.useRef)(null);(0,c.useEffect)((function(){s()}));var s=(0,c.useCallback)((function(){var t=n.current,s=a.current,i=t||(s?s instanceof Element?s:s.current:null);r.current&&r.current.element===i&&r.current.subscriber===e||(r.current&&r.current.cleanup&&r.current.cleanup(),r.current={element:i,subscriber:e,cleanup:i?e(i):void 0})}),[e]);return(0,c.useEffect)((function(){return function(){r.current&&r.current.cleanup&&(r.current.cleanup(),r.current=null)}}),[]),(0,c.useCallback)((function(e){n.current=e,s()}),[s])}((0,c.useCallback)((function(t){return n.current&&n.current.box===e.box&&n.current.round===a||(n.current={box:e.box,round:a,instance:new ResizeObserver((function(t){var n=t[0],s="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",i=o(n,s,"inlineSize"),c=o(n,s,"blockSize"),m=i?a(i):void 0,f=c?a(c):void 0;if(d.current.width!==m||d.current.height!==f){var h={width:m,height:f};d.current.width=m,d.current.height=f,r.current?r.current(h):u.current||l(h)}}))}),n.current.instance.observe(t,{box:e.box}),function(){n.current&&n.current.instance.unobserve(t)}}),[e.box,a]),e.ref);return(0,c.useMemo)((function(){return{ref:m,width:i.width,height:i.height}}),[m,i.width,i.height])}({box:"border-box"}),{symbolType:$}=I(),{isMadContract:K}=(0,n.L)($),{isClassicMode:X,isDegenMode:q}=(0,s.C)(),J=(0,c.useCallback)((()=>{z((e=>e?"":C.Chart))}),[]),Q=(0,c.useCallback)((()=>{z((e=>e===C.Chart?"":C.Chart))}),[]),Y=(0,c.useCallback)((()=>{z((e=>e===C.Info?"":C.Info))}),[]);return c.createElement(d.Z.Provider,{value:{locale:e,getI18n:r,siteHost:a,ee:m,useTrackPopupViewWithWalletAddress:f,useTrackWebClickWithWalletAddress:h,isLight:x,useIsMarketClose:b,filterTabInfo:v,filterTabItems:k,useChangeSymbol:M,useChartsVisible:P,useCurrentProduct:I,useSymbolConfigInfo:N,useSymbolLogo:y,useFuturesMarketSort:S,useFuturesMarket:T,useTickerHandle:t,useGetMarketClosePairs:F,useTicker:L,Link:W,predictionPairs:R,useCoachmark:V,showGuideNotice:_,guideNoticeKey:A,useGetPredictionMarket:j,minLeverage:G,maxLeverage:D}},c.createElement("div",{className:"flex flex-col"},c.createElement("div",{className:"grid grid-cols-[max-content_max-content_1fr] h-12 gap-4 px-4 border-b border-solid border-border-line"},c.createElement(w,null),c.createElement(g,null),c.createElement("div",{className:(0,i.cn)("py-2.5 pr-4 flex items-center justify-end",K?"flex-col gap-1 items-end":"")},O&&(X||q)?c.createElement("div",{className:"flex text-center items-center justify-center"},c.createElement("div",{className:"bg-interactive-interactive01 inline-block rounded px-1.5"},c.createElement("div",{className:"leading-[24px] font-[400] text-[10px] text-t-third text-nowrap"},r("orderForm-button-marketClosed","Market Closed")))):null)),c.createElement("div",{className:"flex flex-col"},c.createElement("div",{className:"grid grid-cols-[max-content_max-content_1fr] px-4 py-2"},c.createElement("button",{className:(U===C.Chart?"text-t-primary":"text-t-third")+" text-subtitle2 mr-4",onClick:Q},r("orderForm-button-chart","Chart")),c.createElement("button",{className:(U===C.Info?"text-t-primary":"text-t-third")+" text-subtitle2 mr-4",onClick:Y},r("orderForm-button-info","Info")),c.createElement("div",{className:"flex items-center justify-end"},c.createElement("button",{onClick:J},c.createElement(l.v,{className:"w-4 h-4 text-t-third leading-none",style:{transition:"transform 300ms ease-in-out",transform:U?"rotate(180deg)":"rotate(0)"}})))),c.createElement("div",{className:"flex flex-col",style:{"--animation-content-height":U?`${B||E}px`:0,transition:"height 300ms ease-in-out",height:"var(--animation-content-height)",overflow:"hidden"}},c.createElement("div",{className:U?"flex":"hidden"},c.createElement("div",{className:(U===C.Info?"flex w-full":"hidden")+" px-4",ref:Z},c.createElement(p,null)),c.createElement("div",{className:U===C.Chart?"flex w-full [&>div]:w-full":"hidden",style:{height:`${(B||E)+8}px`,marginTop:"-8px"}},H))))))}var y=r(49161),M=r(43693),P=r(33687),I=r(63469),S=r(87685),T=r(96988),F=r(32310),L=r(1619),W=r(79004),R=r(87354),j=r(35307),V=r(14369),_=r(25254),A=r(19469),G=r(79292),D=r(65271),H=r(76991);function O(){const{isLight:e}=(0,W.Fg)(),{getI18n:t,i18n:{language:r}}=(0,T.V6)(),n=(0,c.useMemo)((()=>(0,H.R)()),[]),{isDumbMode:i}=(0,s.C)(),[l,o]=(0,S.zC)(),{data:u}=(0,V.R)();return(0,a.jsx)(N,{useTickerHandle:S.Et,useTicker:G.kP,locale:r,getI18n:t,siteHost:P.brokerConfig.staticBaseUrl,ee:L.ee,isLight:e,Link:M.G,useGetPredictionMarket:j.l,predictionPairs:u,useIsMarketClose:_.Z,useChangeSymbol:S.d0,useChartsVisible:S.r2,useCurrentProduct:S.j2,useTrackWebClickWithWalletAddress:S.fM,useTrackPopupViewWithWalletAddress:S.Tb,useSymbolConfigInfo:S.Kn,useSymbolLogo:S.sH,useFuturesMarketSort:S.e,useFuturesMarket:i?A.n:S.Pj,useGetMarketClosePairs:_.H,useTheme:y.F,filterTabItems:n,useCoachmark:F.Z,guideNoticeKey:I.IL,showGuideNotice:"true"!==localStorage.getItem(I.iC),minLeverage:l,maxLeverage:o,ChartElement:(0,a.jsx)(c.Suspense,{fallback:null,children:(0,a.jsx)(D.Z,{namespace:R.cS})})},i?"prediction":"futures")}}}]);